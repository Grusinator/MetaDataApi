{% extends "base.html" %}

{% block content %}
    <header class="major">
        <div>
            <img height="150" width="150" alt={{ data_provider.provider_name }} src={{ data_provider.icon_image_url }} >
        </div>
        <div>
            <h2>{{ data_provider.provider_name }}</h2>
        </div>
    </header>
    <section>
        <div>
            {% if oauth_authorize_url %}
                <a class="button primary" href={{ oauth_authorize_url }}>
                    Oauth Authorize {{ data_provider.provider_name }}
                </a>
            {% endif %}
            <a class="button primary" href=upload_file/> Upload data </a>


            <h3>Endpoints</h3>
            {% for endpoint in endpoints %}
                {% if data_provider_user or not endpoint.requires_auth %}
                    <div>
                        <a href="{{ endpoint.get_internal_view_url }}">
                            {{ endpoint.endpoint_name }}
                        </a>
                    </div>
                {% endif %}
            {% endfor %}

        </div>

        <div>
            <h3>Models</h3>
            {% for dynamic_meta_object in dynamic_meta_objects %}
                <div>
                    <a href="{{ dynamic_meta_object.dynamic_object.object_name }}/">
                        {{ dynamic_meta_object.dynamic_object.object_name }}
                    </a>
                </div>
            {% endfor %}
        </div>
    </section>
{% endblock %}
